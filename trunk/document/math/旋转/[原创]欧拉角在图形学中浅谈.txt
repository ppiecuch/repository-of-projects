一直想写欧拉角，但是确实是理解还很不到位。我所了解到的欧拉角在图形学中的应用主要涉及到旋转方式、万向锁、角度插值。今天这篇文章主要想探讨一下关于欧拉角的选转方式。而关于万向锁和插值问题我现在的理解不是特别深刻，所以不敢冒昧的乱写。

文章开始前，先说明下。欧拉角的X、Y、Z三个轴分别用pitch、heading、bank来表示。我对这三个角确实不感冒，所以还是用X、Y、Z来描述吧。

我们大家都熟悉选转矩阵的求法。但是大家可能发现一个问题，绕X、Y、Z转的选转矩阵其实都是相对于全局坐标系来确定（假设只有两个坐标系，一个是全局、一个是局部），但对于物体而言，每次选转需要通过全部坐标系的选转来实现不免有限繁琐。打个比方，我们实现摄像机，需要对相机的方向进行调整，如果说需要调整到（1，1，1）这个方向。那么大家想想要实现这个的话，按照XYZ分别选转的顺序，要得出这三个角度恐怕不是简单的事情了。但是如果说我们能够绕物体自身坐标系选转的话，就会简单很多，只需要X、Y选转或者Y、X选转，就可以很清晰的指向目标点。自然，我们需要这种选转方式。

欧拉角恰好为我们提供了这种方式，它的选转都是参照自身坐标系进行的。仍旧以相机为例，我们可以很容易的得到X、Y的角度值，进而获得选转矩阵。

不过这里就出现了最为关键的一点。前面我提到过，我们一般所求的选转矩阵都是参照全局坐标系获得的角度，进而求出的。但是现在我们所获得的角度是在局部坐标系中获得的，自然这个角度是不能够替代全局坐标系的角度来求选转矩阵的。

至此，我们需要做的事情就是把用欧拉方式求得的角度最好能转换成全局坐标系的角度，以此来求得矩阵。

下面大家来看这个表达式：

RZ*(RZ~*RY*RZ)*(RZ(RZ~*RY*RZ))~*RX*(RZ*(RZ~*RY*RZ))=RX*RY*RZ

~表示逆矩阵。

这个例子有点让人费解。下面就解释下大致的意思。

RZ的意识是指绕Z轴旋转的矩阵，其他的以此类推。

等号前面的式子是想求出欧拉里面绕三个轴选转的表达式。先来看绕Z、Y轴的选转。按理说应该是RZ*RY。但是我们知道这是两个坐标系的值，所以必须要进行回退之后才能进行绕Y轴的旋转。然后在乘以RZ，这样就得到了绕Z、Y旋转的矩阵，以此类推可得到以上式子。

这个公式也是得益于群里的一位哥们指点的，于是这里就得到了全局坐标与欧拉旋转之间的对应关系。即欧拉的选转矩阵RZ*RY*RX=R'X*R'Y*R'Z。所以我们只要以欧拉选转的相反顺序就能获得相对于全部坐标系的选转矩阵。

感觉这里讲的不是很清楚，举个例子吧。假如由欧拉旋转方式得到的角度和顺序分别为X:a,Y:b,Z:c，X->Y->Z。那么我们应该得到的全局旋转矩阵应该是：RZ（c）*RY（b）*RX（a）。

至此，我们就得出了由欧拉角的方式获得旋转矩阵的方法了。

关于万向锁与插值的问题，等有所得的时候在写吧

文章内容得益于几位热心朋友的帮助和一些文章、源码等的指点，在此一并感谢!

文章中如此错误，请大家指正！非常感谢！
http://hi.baidu.com/%C4%A6%F4%C9%D1%DB%C0%E1/blog/item/6448f517985dc6996538dbfe.html
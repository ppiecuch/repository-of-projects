<!DOCTYPE HTML>
<html>
	<head>
		<title>API</title>
		<link type="text/css"  href="resources/css.css" rel="stylesheet" media="all" />
		<script type="text/javascript" src="resources/shCore.js"></script>
		<script type="text/javascript" src="resources/shBrushGL.js"></script>
		<link type="text/css" rel="stylesheet" href="resources/shCoreMidnight.css"/>
		<script type="text/javascript">SyntaxHighlighter.all();</script>
		<style type="text/css">
			#report div.arrow {
				background: transparent url(resources/arrows.png) no-repeat scroll 0px -16px;
				width: 16px;
				height: 16px;
				display: block;
			}
			#report div.up {
				background-position: 0px 0px;
			}
		</style>
		<script src="resources/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				$("#report tr:odd").addClass("odd");
				$("#report tr:even td").addClass("alt");
				$("#report tr:not(.odd)").hide();
				$("#report tr:first-child").show();
				
				$("#report tr th:first-child").addClass("first");
				$("#report tr td:first-child").addClass("first");

				$("#report tr.odd").click(function() {
					$(this).next("tr").toggle();
					$(this).find(".arrow").toggleClass("up");
				});
			});

		</script>
	</head>
	<body>
		<table id="report" cellspacing="0" class="groovy_table" width="90%">
			<thead>
				<tr>
				<th>函数</th>
				<th>ES1</th>
				<th>ES2</th>
				<th>GL</th>
				<th>&nbsp;</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>void glPixelStorei(GLenum pname,GLint param);</td>
				<td>支持</td>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
				<td>
				<div class="arrow">
					&nbsp;
				</div></td>
			</tr>
			<tr>
				<td colspan="5" >
<pre class="brush: gl;auto-links:true;">
【参数】
pname
Specifies the symbolic name of the parameter to be set. 
GL_PACK_ALIGNMENT affects the packing of pixel data into memory. 
GL_UNPACK_ALIGNMENT affects the unpacking of pixel data from memory.
指定所要被设置参数的符号名。这里，参数的符号名有两种：
一种是GL_PACK_ALIGNMENT，它影响将像素数据写回到主存的打包形式，对glReadPixels的调用产生影响；
还有一种是GL_UNPACK_ALIGNMENT，它影响从主存读到的像素数据的解包形式，对glTexImage2D以及glTexSubImage2D产生影响。
param
Specifies the value that pname is set to.
指定相应的pname设置为什么值。这个数值一般是1、2、4或8，用于指定存储器中每个像素行有多少个字节对齐。对齐的字节数越高，系统就越能优化。

【描述】
glPixelStorei sets pixel storage modes that affect the operation of subsequent glReadPixels 
as well as the unpacking of glTexImage2D, and glTexSubImage2D.

pname is a symbolic constant indicating the parameter to be set, and param is the new value. 
The following storage parameter affects how pixel data is returned to client memory. 
This value is significant for glReadPixels:

GL_PACK_ALIGNMENT
Specifies the alignment requirements for the start of each pixel row in memory.
 The allowable values are 1 (byte-alignment), 2 (rows aligned to even-numbered bytes), 
4 (word-alignment), and 8 (rows start on double-word boundaries). The initial value is 4.

The following storage parameter affects how pixel data is read from client memory. 
This value is significant for glTexImage2D and glTexSubImage2D:

GL_UNPACK_ALIGNMENT
Specifies the alignment requirements for the start of each pixel row in memory. 
The allowable values are 1 (byte-alignment), 2 (rows aligned to even-numbered bytes), 
4 (word-alignment), and 8 (rows start on double-word boundaries). The initial value is 4.

【注意】
Pixel storage modes are client states.
glCompressedTexImage2D and glCompressedTexSubImage2D are not affected by glPixelStorei.

【消除BMP文件中“对齐”带来的影响】
实际上OpenGL也支持使用了这种“对齐”方式的像素数据。只要通过glPixelStore修改“像素保存时对齐的方式”就可以了。像这样：
int alignment = 4;
glPixelStorei(GL_UNPACK_ALIGNMENT, alignment);
第一个参数表示“设置像素的对齐值”，第二个参数表示实际设置为多少。
这里像素可以单字节对齐（实际上就是不使用对齐）、双字节对齐（如果长度为奇数，则再补一个字节）、
四字节对齐（如果长度不是四的倍数，则补为四的倍数）、八字节对齐。分别对应alignment的值为1, 2, 4, 8。
实际上，默认的值是4，正好与BMP文件的对齐方式相吻合。

【纹理图的创建】
在提取图像数据并将放入纹理内存之前，OpenGL需要知道这些数据在处理器内存中的格式，可能需要通过函数glPixelStore*()来设置像素存储模式（在glTexImage2D之前调用）：
glPixelStorei(GL_UNPACK_ALIGNMENT,1);
指定内存中每行像素起始地址的对齐要求，第二个参数可以为1，2，4，8。例如为4的话则每行像素占用地址空间为4字节整数倍。
</pre>
<pre>
http://www.khronos.org/opengles/sdk/1.1/docs/man/
http://www.cnblogs.com/yxnchinahlj/archive/2010/11/19.html
http://wenku.baidu.com/view/bb1b57d97f1922791688e804.html
http://www.cocoachina.com/bbs/read.php?tid=38052
</pre>

				</td>
			</tr>
			<tr>
				<td>void glScissor(	GLint x,GLint y,GLsizei width,GLsizei height)</td>
				<td>支持</td>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
				<td>
				<div class="arrow">
					&nbsp;
				</div></td>
			</tr>
			<tr>
				<td colspan="5" >
<pre class="brush: gl;auto-links:true;">
【功能描述】
glScissor defines a rectangle, called the scissor box, in window coordinates.
The first two arguments, x and y, specify the lower left corner of the box. 
width and height specify the width and height of the box.

To enable and disable the scissor test, call glEnable and glDisable with argument GL_SCISSOR_TEST. 
The scissor test is initially disabled. While scissor test is enabled, only pixels that lie within the scissor box 
can be modified by drawing commands. Window coordinates have integer values at the shared corners of frame buffer pixels. 
glScissor(0, 0, 1, 1) allows modification of only the lower left pixel in the window, and glScissor(0, 0, 0, 0) doesn't 
allow modification of any pixels in the window.

★When the scissor test is disabled, it is as though the scissor box includes the entire window.
【参数】
x, y
Specify the lower left corner of the scissor box, in pixels. The initial value is (0, 0).
width, height
Specify the width and height of the scissor box. When a GL context is first attached to a surface (e.g. window), 
width and height are set to the dimensions of that surface.

【返回值】
无
【备注】
设置剪裁区域，如果启用了GL_SCISSOR_TEST，只有在剪裁区域的绘制的内容才显示。
</pre>
<pre>
参考文档：
http://www.khronos.org/opengles/sdk/1.1/docs/man/
</pre>
				</td>
			</tr>
			<tr>
				<td>void glTexSubImage2D(GLenum target,GLint level,GLint xoffset,GLint yoffset,GLsizei width,GLsizei height,GLenum format,GLenum type,const GLvoid * pixels);</td>
				<td>支持</td>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
				<td>
				<div class="arrow">
					&nbsp;
				</div></td>
			</tr>
			<tr>
				<td colspan="5" >
<pre class="brush: gl;auto-links:true;">
【描述】
如果有多个使用周期较短且大小相同的纹理, 可以调用函数glTexSubImage2D()将不同的图像加载到已有的纹理对象中.与删除并重新创建纹理对象相比, 这样做的效率可能更高
</pre>
<pre>
http://apps.hi.baidu.com/share/detail/48145190
</pre>
				</td>
			</tr>
			<tr>
				<td>template</td>
				<td>支持</td>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
				<td>
				<div class="arrow">
					&nbsp;
				</div></td>
			</tr>
			<tr>
				<td colspan="5" >
<pre class="brush: gl;auto-links:true;">
【功能描述】
【参数】
【返回值】
【备注】
</pre>
<pre>
参考文档：

</pre>
				</td>
			</tr>
			</tbody>
		</table>
	</body>
</html>
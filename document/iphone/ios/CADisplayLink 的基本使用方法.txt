自 iOS SDK 3.1 起就增加了 CADisplayLink Class，@ Class 的功能似於 Timer。由於能支援每秒高_ 60 fps 的面同步功能，所以更m合用在u作[赢上面，相^之下 Timer ^常使用在背景理用妫其基本使用方式如下。（View-based Template）

第一步要先引入 CADisplayLink 的祟^n，才能真正使用它。

1
#import <QuartzCore/CADisplayLink.h>

1
2
3
4
5
6
7
8
9
10
11
12
13
//自行定x的函式，用碓O定使用CADisplayLink的相P
-(void)initializeTimer {
 
    //theTimer是CADisplayLink型B的指耍用泶娣女前的O定B
    theTimer = [CADisplayLink displayLinkWithTarget:self selector:@selector(countTotalFrames)];
 
    //CADisplayLink榷ㄖ稻褪敲棵60（=1），=2就是每秒30，以此推
    double fps = 60 / theTimer.frameInterval;
    fpsLabel.text = [NSString stringWithFormat:@"%0.1f" , fps];
 
    //O定绦BKtheTimer
    [theTimer addToRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
}

如同 Timer / r器一樱selector 是O定每次|lr所需要呼叫的函式，其法如下。

1
2
3
4
-(void)countTotalFrames {
    frameCount ++;
    framesLabel.text = [NSString stringWithFormat:@"%d", frameCount];
}

最後，e忘 Quartz Core 的 framework 加入到你的０龋程式才能正常绦小＜尤氲姆椒ㄊ窃 Groups & Files 鹊０该Q上按下右I > Add > Existing Frameworks，之後x QuartzCore.framework K Add 即可。


CADisplayLink Class Reference:http://developer.apple.com/library/ios/#DOCUMENTATION/QuartzCore/Reference/CADisplayLink_ClassRef/Reference/Reference.html#//apple_ref/doc/uid/TP40009031-CH1-DontLinkElementID_1


http://blog.sina.com.cn/s/blog_68237cd10100yptj.html